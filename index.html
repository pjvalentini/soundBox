<!DOCTYPE html>
<html lang="en">
<head>
    <title>SoundBox</title>
    <script type="text/javascript" src="javascript/paper-full.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/1.1.28/howler.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/paperscript" canvas="myCanvas"> 
      
      // basic setuo for howler.js
      var sound = new Howl({
         urls: ['sounds/bubbles.mp3']
      });

      // See paper.js docs @ paperjs.org
      // set up an array for the circles
      var circles = []; 
      console.log(circles);

      // Create a onKeyDown Event to generate a circle when we press a key.
	   function onKeyDown(event) {
           console.log(event);
           // play sound onKeypress.
           sound.play();
        
        // sets up a point depending on the size of the viewport
           var maximumPoint = new Point(view.size.width, view.size.height);
        
        // sets a random point for the circle. 
           var randomPoint = Point.random();
        
        // multiply maximumPoint to randomPoint.    
           var point = maximumPoint * randomPoint;
           console.log(maximumPoint);

         // You cannot push into array like this, to o many methods chained along.
	      // circles.push(new Path.Circle(point, 10).fillColor = 'Yellow');
         
         // we need a new var here as we are only passing in the last part of the new Path...so only the string "yellow".
         // is being passed into the array as opposed to the actual circle.
           var newCircle = new Path.Circle(point, 300)
           newCircle.fillColor = 'Yellow';
           circles.push(newCircle);
         // you cannot push into array like this.
	      //   circles.push(new Path.Circle(point, 10).fillColor = 'Yellow');
            console.log(view.size.width);
            console.log(view.size.height);
       }  

       // create a new circle
      //  var circleAnimate = new Path.Circle(new Point(300, 300), 100);
      //  circleAnimate.fillColor = "red"; 

      // Anytime there is a new frame we are adding 4 to the hue of the circleAnimate.
      function onFrame() {
         // on every frame we loop through the circles array. and we add 1 ro each cirlces hue.
         for(var i = 0; i < circles.length; i++) {
            console.log(circles[i]);
            circles[i].fillColor.hue += 4;
            circles[i].scale(.8); // sets the timing on the radius size animation
         }
         // circleAnimate.fillColor.hue += 1;
      }
      // TO DO STILL
      // we need to make sure to remove the circle from the array once it dissapears.(Optimization)
      // we need to now set each key to have a unique color.
      // add sound to the key presses do that each key has a unique sound.

    </script>
</head>
<body>
    <canvas id="myCanvas" resize></canvas>
</body>
</html>
